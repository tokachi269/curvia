# JavaScript Curve Math Instructions

## プロジェクト概要
このプロジェクトは、JavaScriptを使用して曲線生成（特にクロソイド曲線や円弧）を行うライブラリを設計・開発するものです。保守性とユーザビリティを意識した設計・開発を行います。

---

## 主な目標
1. **コードの品質向上**
   - 可読性を重視し、コメントや命名規則を統一する。
   - 冗長なコードを削減し、シンプルで直感的なロジックを目指す。

2. **エラーハンドリングの改善**
   - 標準化されたエラーハンドリングユーティリティを使用する。
   - エラーコードとメッセージを一元管理し、デバッグ情報を含める。

3. **ログ管理の統一**
   - ログ出力を統一し、デバッグ時に有用な情報を提供する。
   - ログのON/OFFを簡単に切り替えられる仕組みを導入する。

4. **パフォーマンスの最適化**
   - 数値計算や描画処理のアルゴリズムを見直し、効率的な実装を目指す。

---

## コーディングガイドライン
### 1. コードの可読性
- 関数や変数の命名は、役割が明確にわかるようにする。
- コメントを適切に追加し、コードの意図を明確にする。
- 巨大な関数は分割し、モジュール化を進める。

### 2. エラーハンドリング
- `errorHandler.js` を使用してエラーを処理する。
- エラーコードは `ERROR_CODES` に定義し、メッセージは `ERROR_MESSAGES` に一元管理する。
- エラーが発生した場合は、`createError` 関数を使用してエラーオブジェクトを返す。

### 3. ログ管理
- `logger.js` を使用してログを出力する。
- ログカテゴリ（例: `PERFORMANCE`, `CURVE`, `ERROR`）を明確に分ける。
- ログフォーマットは以下の形式を使用する：
  ```
  [時刻][カテゴリ][レベル] メッセージ
  ```
  例: `[21:35:30.954][CURVE][INFO] 曲線生成開始`

### 4. デバッグ情報
- デバッグ情報は `debugInfo` 変数に蓄積し、必要に応じてログやエラーオブジェクトに含める。
- デバッグ情報はテキスト形式で列挙し、コピペしやすい形式にする。

---

## 注意点
- **リファクタリングは必要最小限に**
  - リファクタリングはコードの品質向上に必要な範囲に留める。
  - 動作に影響を与えないことを最優先とする。

- **パフォーマンスへの配慮**
  - 数値計算や描画処理の最適化を行う際は、パフォーマンスに注意する。
  - 不必要な計算や処理を避ける。

- **コードの一貫性を保つ**
  - プロジェクト全体で一貫したコーディングスタイルを維持する。
  - チーム内でのコードレビューを活用し、品質を向上させる。

---

## 今後の改善案
1. **複数の独立した線の描画**
   - ユーザが自由に線を引けるように、一つづきの線ではなく複数の独立した線が引けるようにする
   - 途切れさせる機能（線の分割・結合）を実装する

2. **エクスポート機能の拡張**
   - ベジェ曲線近似でのエクスポート機能を追加
   - 点群とベジェ曲線で切り替え可能なエクスポート形式を提供
   
3. **設定の保存機能**
   - ユーザが現在の設定や状態を保存できるようにする
   - 設定の永続化と復元機能を実装する

4. **インポート・エクスポート機能の追加**
   - 設定やデータのインポート・エクスポート機能を追加する（形式は未定）
   - ユーザが外部ファイルからデータを取り込んだり、保存できるようにする
---

## 補足
- Vueはすでに起動しているため、`npm run dev` を実行する必要はありません。

このインストラクションを参考に、プロジェクトの品質向上に努めてください。